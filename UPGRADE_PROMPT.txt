[안티그래비티 표준 문서 시스템 업그레이드 프롬프트 (v1.0)]

이 프롬프트는 AOAgentDocs가 이미 설치된 프로젝트를 최신 버전으로 업그레이드합니다.
최초 설치는 `MIGRATION_PROMPT.txt`를 사용하세요.

## 0. 사전 준비
- AOAgentDocs 저장소를 `git pull`로 최신화한 상태여야 합니다.
- 대상 프로젝트 경로: `<INSERT_PROJECT_ROOT_PATH>`

## 1. 버전 비교
- 대상 프로젝트의 `.aodocs_version` 파일을 읽습니다. (현재 설치 버전)
- AOAgentDocs 저장소의 `VERSION` 파일을 읽습니다. (최신 버전)
- 두 버전이 동일하면 "이미 최신 버전입니다"를 출력하고 종료합니다.
- `.aodocs_version` 파일이 없으면 버전을 `0.0.0`(미설치)으로 간주하고 진행합니다.

## 2. 변경 사항 분석
- AOAgentDocs의 `CHANGELOG.md`에서 현재버전 ~ 최신버전 구간의 변경 내역을 추출합니다.
- 변경 유형을 분류합니다:
  - 규칙 변경 (RULES/ 하위)
  - 템플릿 변경 (examples/ 하위)
  - 네이밍 규칙 변경 (ISS/WRK 형식 등)
  - 신규 파일 추가
- 분류 결과를 사용자에게 보고하고 진행 승인을 받습니다.

## 3. 규칙 및 템플릿 파일 갱신
아래 파일들을 AOAgentDocs 최신 버전으로 덮어씁니다:
- `CONTRIBUTING.md`
- `RULES/` 전체 (하위 디렉토리 포함)
- `examples/` 하위 템플릿 파일들:
  - `000_README_Communication_Guide.md`
  - `001_INDEX.md` (프로젝트의 실제 데이터는 보존, 템플릿 구조만 갱신)
  - `000_Master_Report_Template.md`
  - `000_Work_Master_Report_Template.md`
  - `ISS_YYMMDD_NNN_hash_Flag_Name_Template.md`
  - `WRK_YYMMDD_NNN_hash_Name_Template.md`
  - `999_Issue_Completed_Template.md`
  - `999_Work_Completed_Template.md`
  - `assets/001_Attempt_Log_Template.md`

⚠️ 주의:
- 프로젝트의 `docs/communication/001_INDEX.md`는 실제 데이터가 있으므로 덮어쓰지 않고 구조만 갱신합니다.
- 프로젝트 고유로 수정된 규칙 파일이 있다면 병합(merge)을 시도하고 충돌 시 사용자에게 보고합니다.

## 4. 폴더 구조 갱신
- `docs/communication/works/` 폴더가 없으면 생성합니다.
- `docs/communication/END/` 폴더가 없으면 생성합니다.

## 5. WRK/ISS 리팩토링 (네이밍 규칙 변경 시)

### 5-1. 완료 문서 아카이브
- `999_Completed.md` 또는 `999_Issue_Completed.md`가 존재하는 폴더를 식별합니다.
- 해당 폴더를 `END/`로 이동합니다.
- `END/` 내부 폴더는 리네이밍하지 않습니다. (과거 기록 원본 보존)

### 5-2. 진행중 문서 리팩토링
- 진행중 이슈/작업 폴더의 네이밍이 변경된 경우 리네이밍합니다.
  - 구형 예: `ISS_260208_001_CameraFix` → `ISS_260208_001_a3f2b1_S_CameraFix`
  - 해시가 없는 폴더에 해시를 새로 생성해 부여합니다.
- 폴더 내부 문서에서 이전 형식을 참조하는 부분을 새 형식으로 갱신합니다.
- 마스터 리포트의 이슈/작업 ID 형식을 갱신합니다.

### 5-3. 인덱스 재생성
- `docs/communication/001_INDEX.md`를 현재 상태 기준으로 재구성합니다.
- 진행중 작업: `works/` 하위
- 진행중 이슈: `issues/` 하위
- 완료: `END/` 하위
- 해시가 Primary Key이며 폴더명의 해시와 1:1 매칭합니다.

## 6. 버전 마커 갱신
- 프로젝트의 `.aodocs_version`을 최신 버전으로 업데이트합니다.
- `.aodocs_version`이 `.gitignore`에 포함되지 않았는지 확인합니다.

## 7. 변경 리포트
아래 내용을 사용자에게 보고합니다:
- 업그레이드 전/후 버전
- 갱신된 규칙/템플릿 파일 목록
- 아카이브된 완료 문서 목록 (→ END/)
- 리팩토링된 진행중 문서 목록 (리네이밍 전 → 후)
- 인덱스 재구성 결과
- 수동 확인이 필요한 항목 (충돌, 병합 실패 등)

## 완료 조건
- [ ] `.aodocs_version`이 최신 버전과 일치
- [ ] 규칙/템플릿 파일이 최신과 동일
- [ ] `works/`, `issues/`, `END/` 구조 올바름
- [ ] 진행중 문서가 새 네이밍 규칙(해시+플래그)을 따름
- [ ] 완료 문서가 `END/`에 아카이브됨
- [ ] `001_INDEX.md`가 현행 상태를 정확히 반영
- [ ] 변경 리포트 제출 완료
